@page
@model AnimalRescue.Pages.Admin.Events.EventSignUpModel
@using Microsoft.AspNetCore.Identity
@using Infrastructure.Utility
@using ApplicationCore.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
<form method="post" enctype="multipart/form-data">
<div class="DetailsForm">
    
    @if (SignInManager.IsSignedIn(User))
{
    
    <h1>Event Sign Up!</h1>
    <p>Hello @User.Identity?.Name! Are you sure you want to sign up for this event?</p>
    <div>
        <input type="hidden" asp-for="EnrollmentVM.EventModel.Id" />
        <input  type ="hidden" asp-for="EnrollmentVM.Customer.Id" />
        <hr/>
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Name)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Description)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Description)
            </dd>
            <dt class="col-sm-2">
                Location:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Venue.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Venue.Address)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Venue.Address)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Venue.City)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Venue.City)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Venue.State)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Venue.State)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EnrollmentVM.EventModel.Venue.Phone)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EnrollmentVM.EventModel.Venue.Phone)
            </dd>
        </dl>
    </div>
    <div>
    <button type="submit" class="btn btn-primary form-control">Sign Up!</button>|
        <a asp-page="./Index">Back to List</a>
    </div>
    }
    else
    {
    <h1>Please Log In To Sign Up</h1>
    }
</div>
</form>